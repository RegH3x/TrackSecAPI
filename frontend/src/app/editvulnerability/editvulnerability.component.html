<p class="fw-bold" style="color:rgb(255, 43, 43); text-align: center;">Update Vulnerability&nbsp;<img src="/assets/img/edit.png" alt="Logo" width="20" height="24"></p>
<form (ngSubmit)="editVulnerability()" [formGroup]="updateVulnerabilityForm" class="row g-3 text-left">
    <div class="col-md-6">
      <label for="inputNome" class="form-label">Name</label>
      <input type="text" class="form-control" id="vulName" formControlName="vulName">
      <p *ngIf="!updateVulnerabilityForm.get('vulName')!.valid && updateVulnerabilityForm.get('vulName')!.touched">* Insert a name for the vulnerability</p>
    </div>
    <div class="col-md-6">
        <label for="formFile" class="form-label">Screenshot</label>
        <input class="form-control" type="file" id="screenshot" formControlName="screenshot">
    </div>
    <div class="col-6">
        <label for="Note" class="form-label">Note</label>
        <input class="form-control" id="note" formControlName="note" style="height: 100px">
    </div>
    <div class="col-md-6">
        <label for="Consequence" class="form-label">Consequence</label>
        <input class="form-control" id="consequence" formControlName="consequence" style="height: 100px">
        <p *ngIf="!updateVulnerabilityForm.get('consequence')!.valid && updateVulnerabilityForm.get('consequence')!.touched">* Insert a consequence for the vulnerability</p>
    </div>
    <div class="col-md-6">
        <label for="requestPayload" class="form-label">Request Payload</label>
        <input class="form-control" id="requestPayload" formControlName="requestPayload" style="height: 70px">
    </div>
    <div class="col-md-6">
        <label for="responseServer" class="form-label">Response Server</label>
        <input class="form-control" id="responseServer" formControlName="responseServer" style="height: 70px">
    </div>
    <div class="col-md-6">
      <label for="vulState" class="form-label">Vulnerability State</label>
      <select id="vulState" formControlName="vulState" class="form-select">
        <option value="1">Open</option>
        <option value="0">Close</option>
      </select>
      <p *ngIf="!updateVulnerabilityForm.get('vulState')!.valid && updateVulnerabilityForm.get('vulState')!.touched">* Insert a state for the vulnerability</p>
    </div>
    <div class="col-12">
      <label for="linkedParameterID" class="form-label">ID referenced Parameter</label>
      <select ng-model="selectedLinkedParameterID" id="linkedParameterID" formControlName="linkedParameterID" class="form-select">
        <option *ngFor="let p of Parameter" [value]="p.id">{{p.id}},&nbsp;{{p.parameterName}}</option>
      </select>
      {{selectedLinkedParameterID}}
      </div>
    <div class="col-12" style="text-align:center;">
        <button type="submit" class="btn btn-danger text-center">Update vulnerability</button>
    </div>
  </form>
  <br>
  <div style="text-align:center;">
    <button class="btn btn-outline-success text-center" routerLink="/projects/{{id}}/endpoints/{{idendpoint}}/vulnerabilities/{{idvulnerability}}" routerLinkActive="active" role="button">Go Back to Vulnerability</button>
</div>
